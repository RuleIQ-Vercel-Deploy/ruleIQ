
Cneo4j_service.Neo4jGraphRAGService.get_compliance_metrics_dashboardM
A/home/omar/Documents/ruleIQ/langgraph_agent/core/neo4j_service.pyö ö(."2*ó	
2
õ õ((⁄
◊

ù ≠(
query"__id*π

__unknown_file (úô
ñ
        MATCH (m:Metric)
        OPTIONAL MATCH (m)-[:MEASURES]->(ctrl:Control)
        RETURN m.type AS metric_type,
               m.name AS metric,
               m.current_value AS current,
               m.target_value AS target,
               m.frequency AS frequency,
               m.owner AS owner,
               CASE 
                 WHEN m.type = 'KPI' AND m.current_value < m.target_value THEN 'GREEN'
                 WHEN m.type = 'KRI' AND m.current_value > m.target_value THEN 'RED'
                 ELSE 'AMBER'
               END AS status,
               COLLECT(ctrl.name) AS related_controls
        ORDER BY m.type, status DESC
        èå

Ø Ø(1
%1*B

__unknown_file (&$
"neo4j_service.Neo4jGraphRAGService*%

__unknown_file (	

query2execute_queryC
A

Ø Ø(1	
results"__id*"

__unknown_file (

%1

∞ ∞(-
%2"dictü
ú

∞ ∞(,
%3"__mapSet*"

__unknown_file (

%2*1

__unknown_file (
metrics_dashboard*'

__unknown_file (
	
results"

∞ ∞(-

%2B&$
"neo4j_service.Neo4jGraphRAGServiceH