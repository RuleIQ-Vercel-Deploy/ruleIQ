
Bservices.iq_agent.IQComplianceAgent.assess_compliance_with_context<
0/home/omar/Documents/ruleIQ/services/iq_agent.pyå å(,"2*þ
2
è ñ(

ó ó(
%20"dictM
K

ó ó(
business_context"__id*#

__unknown_file (

%20y
w

ô ô(#
%21"__id*\

__unknown_file (@*>%
#services.iq_agent.IQComplianceAgent"
has_postgres_access*
4
5*æ
4
ø ‚	(Õ
Ò

ø ‚	(
%1"__concat*n

ø ú(`^
\
        MATCH (r:Regulation)-[:HAS_REQUIREMENT]->(req:Requirement)
        WHERE r.code IN *

ú ú($

regulations*¤

ú% ‚	(•’

        RETURN r.code as regulation, 
               collect({{
                   id: req.id,
                   title: req.title,
                   description: req.description,
                   risk_level: req.risk_level
               }}) as requirements
        L
J

ø ‚	(
regulation_query"__id*"

__unknown_file (

%1j
h

„	 „	('
%2"__id*N

__unknown_file (2*0%
#services.iq_agent.IQComplianceAgent"
neo4jyw

„	 „	(G
%3*"

__unknown_file (

%2*0

__unknown_file (

regulation_query2execute_queryH
F

„	 „	(G
neo4j_result"__id*"

__unknown_file (

%3

‡	 ”	(	
%4"dict”
‘

ˆ	 ˆ	(
%5"__mapSet*"

__unknown_file (

%4*&

__unknown_file (

status*'

__unknown_file (	
success§
¤

‰	 ‰	(0
%6"__mapSet*"

__unknown_file (

%4*0

__unknown_file (
business_context*0

__unknown_file (

business_context

Š	% “	(
%7"dict¨
¥

‹	 ‹	(5
%8"__mapSet*"

__unknown_file (

%7*6

__unknown_file (
applicable_regulations*+

__unknown_file (

regulations¦£

Œ	+ Ž	(
%9*C

__unknown_file ('%
#services.iq_agent.IQComplianceAgent*0

__unknown_file (

business_context2_identify_business_risks¡
ž

Œ	 Ž	(
%10"__mapSet*"

__unknown_file (

%7*7

__unknown_file (
business_specific_risks*"

__unknown_file (

%9

	B 	(D
%11"list”‘

	) 	(E
%12*,

__unknown_file (

neo4j_result*$

__unknown_file (
data*#

__unknown_file (

%112get 


	 	(E
%13"__mapSet*"

__unknown_file (

%7*5

__unknown_file (
requirements_analysis*#

__unknown_file (

%12

‘	? ‘	(A
%14"list”‘

‘	& ‘	(B
%15*,

__unknown_file (

neo4j_result*$

__unknown_file (
data*#

__unknown_file (

%142getÜÙ

	# ’	(
%16*C

__unknown_file ('%
#services.iq_agent.IQComplianceAgent*0

__unknown_file (

business_context*#

__unknown_file (

%152(_generate_contextualized_recommendationsš
—

	 ’	(
%17"__mapSet*"

__unknown_file (

%7*/

__unknown_file (
recommendations*#

__unknown_file (

%16Ÿ
œ

Š	 “	(
%18"__mapSet*"

__unknown_file (

%4*5

__unknown_file (
compliance_assessment*"

__unknown_file (

%7F
D

‡	 ”	(	

assessment"__id*"

__unknown_file (

%4"

–	 –	(


assessment*‘
5
õ õ(X«¨

õ% õ(X
%19*C

__unknown_file ('%
#services.iq_agent.IQComplianceAgent*3

__unknown_file (

business_profile_id2retrieve_business_contextM
K

õ õ(X
business_context"__id*#

__unknown_file (

%19*
4:#

æ æ(&
business_profile_id:

æ( æ(>
regulationsB'%
#services.iq_agent.IQComplianceAgentH