
9iq_agent.IQComplianceAgent.assess_compliance_with_context<
0/home/omar/Documents/ruleIQ/services/iq_agent.py° °(,"2*ı
2
£ ¨(

≠ ≠(
%20"dictM
K

≠ ≠(
business_context"__id*#

__unknown_file (

%20p
n

Æ Æ(#
%21"__id*S

__unknown_file (7*5
iq_agent.IQComplianceAgent"
has_postgres_access*
4
5*À
4
± ª(’
“

± ª(
%1"__concat*n

± ≥(`^
\
        MATCH (r:Regulation)-[:HAS_REQUIREMENT]->(req:Requirement)
        WHERE r.code IN *

≥ ≥($

regulations*§

≥% ª(ïí
è
        RETURN r.code as regulation, 
               collect({{
                   id: req.id,
                   title: req.title,
                   description: req.description,
                   risk_level: req.risk_level
               }}) as requirements
        L
J

± ª(
regulation_query"__id*"

__unknown_file (

%1a
_

º º('
%2"__id*E

__unknown_file ()*'
iq_agent.IQComplianceAgent"
neo4jyw

º º(G
%3*"

__unknown_file (

%2*0

__unknown_file (

regulation_query2execute_queryH
F

º º(G
neo4j_result"__id*"

__unknown_file (

%3

Ω ƒ(+
%4"dictî
ë

Ω Ω()
%5"__mapSet*"

__unknown_file (

%4*&

__unknown_file (

status*'

__unknown_file (	
successß
§

Ω+ æ(
%6"__mapSet*"

__unknown_file (

%4*0

__unknown_file (
business_context*0

__unknown_file (

business_context

æ7 ƒ(*
%7"dict®
•

ø ø(1
%8"__mapSet*"

__unknown_file (

%7*6

__unknown_file (
applicable_regulations*+

__unknown_file (

regulationsùö

¿' ¡(
%9*:

__unknown_file (
iq_agent.IQComplianceAgent*0

__unknown_file (

business_context2_identify_business_risks°
û

¿ ¡(
%10"__mapSet*"

__unknown_file (

%7*7

__unknown_file (
business_specific_risks*"

__unknown_file (

%9

¬ ¬(
%11"listîë

¡8 ¬(
%12*,

__unknown_file (

neo4j_result*$

__unknown_file (
data*#

__unknown_file (

%112get†
ù

¡ ¬(
%13"__mapSet*"

__unknown_file (

%7*5

__unknown_file (
requirements_analysis*#

__unknown_file (

%12

ƒ% ƒ('
%14"listîë

ƒ ƒ((
%15*,

__unknown_file (

neo4j_result*$

__unknown_file (
data*#

__unknown_file (

%142get”–

¬, ƒ()
%16*:

__unknown_file (
iq_agent.IQComplianceAgent*0

__unknown_file (

business_context*#

__unknown_file (

%152(_generate_contextualized_recommendationsö
ó

¬ ƒ()
%17"__mapSet*"

__unknown_file (

%7*/

__unknown_file (
recommendations*#

__unknown_file (

%16ü
ú

æ ƒ(*
%18"__mapSet*"

__unknown_file (

%4*5

__unknown_file (
compliance_assessment*"

__unknown_file (

%7F
D

Ω ƒ(+

assessment"__id*"

__unknown_file (

%4"

≈ ≈(


assessment*à
5
Ø ∞($¢ü

Ø% ∞($
%19*:

__unknown_file (
iq_agent.IQComplianceAgent*3

__unknown_file (

business_profile_id2retrieve_business_contextM
K

Ø ∞($
business_context"__id*#

__unknown_file (

%19*
4:#

°3 °(K
business_profile_id:

¢ ¢(
regulationsB
iq_agent.IQComplianceAgentH