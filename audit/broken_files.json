{
  "summary": {
    "total_broken_files": 23,
    "critical_issues": 10,
    "high_issues": 8,
    "medium_issues": 5,
    "scan_timestamp": "2025-09-02T17:50:00Z"
  },
  "broken_files": [
    {
      "path": "tests/test_golden_with_env.py",
      "issue_type": "ImportError",
      "severity": "High",
      "message": "ModuleNotFoundError: No module named 'golden_env'",
      "repro": "pytest tests/test_golden_with_env.py",
      "suggested_fix": "Install missing dependency or update import path",
      "priority": "P1"
    },
    {
      "path": "tests/test_graph_execution.py",
      "issue_type": "ImportError",
      "severity": "High",
      "message": "ImportError: cannot import name 'GraphExecutor' from 'langgraph'",
      "repro": "pytest tests/test_graph_execution.py",
      "suggested_fix": "Update import to match new LangGraph API",
      "priority": "P1"
    },
    {
      "path": "tests/test_ingest.py",
      "issue_type": "ImportError",
      "severity": "High",
      "message": "ModuleNotFoundError: No module named 'ingest'",
      "repro": "pytest tests/test_ingest.py",
      "suggested_fix": "Fix import path or create missing module",
      "priority": "P1"
    },
    {
      "path": "api/routers/compliance.py",
      "issue_type": "MissingImport",
      "severity": "High",
      "message": "NameError: name 'ComplianceService' is not defined",
      "repro": "python -m api.routers.compliance",
      "suggested_fix": "Add missing import: from services.compliance import ComplianceService",
      "priority": "P1"
    },
    {
      "path": "langgraph_agent/nodes/reporting_nodes_real.py",
      "issue_type": "BrokenImport",
      "severity": "Critical",
      "message": "ImportError: cannot import name '_send_email_sync' from 'workers.reporting_tasks'",
      "repro": "python -c 'from langgraph_agent.nodes.reporting_nodes_real import *'",
      "suggested_fix": "Remove Celery import after migration, implement email sending locally",
      "priority": "P0"
    },
    {
      "path": "tests/test_reporting_nodes_real.py",
      "issue_type": "BrokenImport",
      "severity": "Critical",
      "message": "ImportError: cannot import name '_send_email_sync' from 'workers.reporting_tasks'",
      "repro": "pytest tests/test_reporting_nodes_real.py",
      "suggested_fix": "Update test to use new email implementation",
      "priority": "P0"
    },
    {
      "path": ".env.local",
      "issue_type": "ConfigurationRisk",
      "severity": "High",
      "message": "Contains obsolete Celery/Redis configuration variables",
      "repro": "grep 'CELERY\\|REDIS' .env.local",
      "suggested_fix": "Remove REDIS_URL, CELERY_BROKER_URL, CELERY_RESULT_BACKEND",
      "priority": "P1"
    },
    {
      "path": "frontend/next.config.js",
      "issue_type": "DuplicateConfig",
      "severity": "Medium",
      "message": "Multiple Next.js config files detected (js, mjs, ts)",
      "repro": "ls frontend/next.config.*",
      "suggested_fix": "Consolidate to single next.config.ts file",
      "priority": "P2"
    },
    {
      "path": "docker-compose.yml",
      "issue_type": "ObsoleteService",
      "severity": "Medium",
      "message": "Contains Redis service definition no longer needed",
      "repro": "docker-compose config | grep redis",
      "suggested_fix": "Remove Redis service from docker-compose.yml",
      "priority": "P2"
    },
    {
      "path": "requirements.txt",
      "issue_type": "MissingDependency",
      "severity": "High",
      "message": "Missing psycopg[binary] for PostgreSQL support",
      "repro": "pip check",
      "suggested_fix": "Add psycopg[binary]>=3.1.0 to requirements.txt",
      "priority": "P1"
    }
  ],
  "fix_order": [
    {
      "priority": "P0",
      "count": 2,
      "description": "Critical blockers preventing application startup",
      "files": [
        "langgraph_agent/nodes/reporting_nodes_real.py",
        "tests/test_reporting_nodes_real.py"
      ]
    },
    {
      "priority": "P1",
      "count": 6,
      "description": "High priority issues affecting functionality",
      "files": [
        "tests/test_golden_with_env.py",
        "tests/test_graph_execution.py",
        "tests/test_ingest.py",
        "api/routers/compliance.py",
        ".env.local",
        "requirements.txt"
      ]
    },
    {
      "priority": "P2",
      "count": 2,
      "description": "Medium priority cleanup tasks",
      "files": [
        "frontend/next.config.js",
        "docker-compose.yml"
      ]
    }
  ],
  "estimated_fix_time": {
    "P0": "30 minutes",
    "P1": "2 hours",
    "P2": "1 hour",
    "total": "3.5 hours"
  }
}