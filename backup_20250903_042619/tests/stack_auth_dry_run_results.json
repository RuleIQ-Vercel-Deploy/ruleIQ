{
  "dry_run_timestamp": "2025-07-31T14:49:42.676111",
  "validation_successful": true,
  "total_issues": 0,
  "total_warnings": 0,
  "tests_passing": true,
  "router_analyses": [
    {
      "file": "api/routers/monitoring.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 15,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/auth.py",
      "has_jwt_imports": true,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [
        "get_current_user(current_user: dict = Depends"
      ],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 6,
      "protected_endpoints": 2,
      "mixed_auth": true,
      "conversion_ready": false,
      "status": "MIXED_AUTH"
    },
    {
      "file": "api/routers/evidence_collection.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 6,
      "protected_endpoints": 6,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/performance_monitoring.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 11,
      "protected_endpoints": 10,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/uk_compliance.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 5,
      "protected_endpoints": 3,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/readiness.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 5,
      "protected_endpoints": 5,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/frameworks.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user"
      ],
      "endpoints_count": 4,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/assessments.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 11,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/ai_assessments.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 15,
      "protected_endpoints": 15,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/security.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 4,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/rbac_auth.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 10,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/business_profiles.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 7,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/ai_policy.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 6,
      "protected_endpoints": 5,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/agentic_rag.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 3,
      "protected_endpoints": 3,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/policies.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 5,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/ai_cost_websocket.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 3,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/integrations.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 3,
      "protected_endpoints": 3,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/evidence.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 24,
      "protected_endpoints": 24,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/chat.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 28,
      "protected_endpoints": 28,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/compliance.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 2,
      "protected_endpoints": 2,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/reporting.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 9,
      "protected_endpoints": 9,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/users.py",
      "has_jwt_imports": true,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [
        "get_current_user(current_user: dict = Depends"
      ],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 4,
      "protected_endpoints": 4,
      "mixed_auth": true,
      "conversion_ready": false,
      "status": "MIXED_AUTH"
    },
    {
      "file": "api/routers/foundation_evidence.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 8,
      "protected_endpoints": 8,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/test_utils.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 3,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/agentic_assessments.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 1,
      "protected_endpoints": 1,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/ai_cost_monitoring.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 12,
      "protected_endpoints": 13,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/ai_optimization.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": true,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [
        "from api.dependencies.stack_auth import",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user",
        "get_current_stack_user"
      ],
      "endpoints_count": 6,
      "protected_endpoints": 6,
      "mixed_auth": false,
      "conversion_ready": true,
      "status": "CONVERTED"
    },
    {
      "file": "api/routers/google_auth.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 3,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    },
    {
      "file": "api/routers/implementation.py",
      "has_jwt_imports": false,
      "has_stack_auth_imports": false,
      "jwt_dependencies": [],
      "stack_auth_dependencies": [],
      "endpoints_count": 4,
      "protected_endpoints": 0,
      "mixed_auth": false,
      "conversion_ready": false,
      "status": "NO_AUTH"
    }
  ],
  "simulation_results": [
    {
      "file": "api/routers/auth.py",
      "changes_made": [],
      "syntax_valid": true,
      "original_lines": 62,
      "simulated_lines": 62,
      "simulation_successful": false
    },
    {
      "file": "api/routers/users.py",
      "changes_made": [],
      "syntax_valid": true,
      "original_lines": 136,
      "simulated_lines": 136,
      "simulation_successful": false
    }
  ],
  "conversion_plan": {
    "total_routers": 29,
    "already_converted": 16,
    "needs_conversion": 0,
    "mixed_auth": 2,
    "no_auth": 11,
    "conversion_order": {
      "phase_1_mixed_auth": [
        "api/routers/users.py",
        "api/routers/auth.py"
      ],
      "phase_2_jwt_only": [],
      "phase_3_validation": [
        "api/routers/evidence_collection.py",
        "api/routers/uk_compliance.py",
        "api/routers/readiness.py",
        "api/routers/frameworks.py",
        "api/routers/ai_assessments.py",
        "api/routers/ai_policy.py",
        "api/routers/agentic_rag.py",
        "api/routers/integrations.py",
        "api/routers/evidence.py",
        "api/routers/chat.py",
        "api/routers/compliance.py",
        "api/routers/reporting.py",
        "api/routers/foundation_evidence.py",
        "api/routers/agentic_assessments.py",
        "api/routers/ai_cost_monitoring.py",
        "api/routers/ai_optimization.py"
      ]
    },
    "estimated_time_minutes": 20,
    "risk_level": "MEDIUM"
  },
  "issues": [],
  "warnings": []
}