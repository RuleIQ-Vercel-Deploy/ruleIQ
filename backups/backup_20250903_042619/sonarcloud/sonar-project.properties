# SonarQube Configuration for ruleIQ
# AI-powered compliance automation platform

# Project identification
sonar.projectKey=ruliq-compliance-platform
sonar.projectName=ruleIQ Compliance Platform
sonar.projectVersion=1.0.0

# SonarCloud settings
sonar.host.url=https://sonarcloud.io
sonar.organization=omara1-bakri
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Language-specific configurations
sonar.python.version=3.11
sonar.typescript.node.maxspace=8192

# Include patterns - what to analyze
sonar.inclusions=\
  **/*.py,\
  **/*.ts,\
  **/*.tsx,\
  **/*.js,\
  **/*.jsx,\
  **/*.css,\
  **/*.scss,\
  **/*.html

# Exclude patterns - what NOT to analyze
sonar.exclusions=\
  **/node_modules/**,\
  **/.venv/**,\
  **/venv/**,\
  **/env/**,\
  **/__pycache__/**,\
  **/*.pyc,\
  **/dist/**,\
  **/build/**,\
  **/.next/**,\
  **/out/**,\
  **/coverage/**,\
  **/htmlcov/**,\
  **/.pytest_cache/**,\
  **/test-results/**,\
  **/*.log,\
  **/logs/**,\
  **/.serena/cache/**,\
  **/.secrets/**,\
  **/historical/**,\
  **/backups/**,\
  **/migration_scripts/**,\
  **/temporary_files/**,\
  **/*.backup*,\
  **/*.pkl,\
  **/celerybeat-schedule*

# Test file patterns - tell SonarCloud where tests are
sonar.tests=tests,frontend/tests
sonar.test.inclusions=\
  **/test_*.py,\
  **/*_test.py,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.test.js,\
  **/*.test.jsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.spec.js,\
  **/*.spec.jsx

# Test file patterns for coverage
sonar.python.coverage.reportPaths=coverage.xml,htmlcov/coverage.xml
sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Python-specific settings
sonar.python.pylint.reportPaths=pylint-report.txt
sonar.python.flake8.reportPaths=flake8-report.txt
sonar.python.bandit.reportPaths=bandit-report.json

# TypeScript/JavaScript settings
sonar.typescript.tsconfigPath=frontend/tsconfig.json
sonar.eslint.reportPaths=frontend/eslint-report.json

# Code duplication
sonar.cpd.exclusions=\
  **/migrations/**,\
  **/alembic/versions/**,\
  **/models/**,\
  **/types/**

# Security hotspot rules
sonar.security.hotspots.inherit=NONE

# Quality gate settings
sonar.qualitygate.wait=true

# Additional analysis parameters
sonar.analysis.mode=publish
sonar.verbose=false

# Project structure hints - commented out for single module analysis
# sonar.modules=backend,frontend

# # Backend module
# backend.sonar.projectName=ruleIQ Backend (FastAPI)
# backend.sonar.sources=api,services,database,utils,config,core,models,workers,middleware
# backend.sonar.exclusions=**/tests/**,**/__pycache__/**,**/migrations/**,**/historical/**
# backend.sonar.python.version=3.11

# # Frontend module
# frontend.sonar.projectName=ruleIQ Frontend (Next.js)
# frontend.sonar.sources=frontend/app,frontend/components,frontend/lib,frontend/types,frontend/hooks
# frontend.sonar.exclusions=**/node_modules/**,**/.next/**,**/tests/**,**/dist/**
# frontend.sonar.typescript.tsconfigPath=frontend/tsconfig.json

