{
  "meta": {
    "project": "ruleIQ Compliance Automation Platform",
    "date": "2025-07-30",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "ruleIQ is an AI-powered compliance automation platform tailored for UK SMBs. It provides comprehensive assessment workflows, evidence management, AI-driven recommendations, and monitoring tools to simplify and enhance regulatory compliance processes for businesses.",
  "core_goals": [
    "Enable secure user authentication and role-based access control",
    "Provide a responsive and intuitive user interface for managing compliance assessments, business profiles, and evidence",
    "Integrate AI services for contextual guidance, assessment analysis, and personalized recommendations",
    "Ensure data integrity and performance with robust database design and optimizations",
    "Monitor system health, security events, and performance metrics with comprehensive observability",
    "Implement strict security measures satisfying GDPR, ISO 27001, Cyber Essentials, and SOC 2 standards"
  ],
  "key_features": [
    "JWT-based user authentication with registration, login, token refresh, and OAuth integration",
    "Business profile management with detailed CRUD operations and compliance context tracking",
    "AI-powered assessment assistance including question help, follow-ups, result analysis, and personalized policy recommendations",
    "Dynamic and adaptive assessment workflows supporting multiple compliance frameworks (GDPR, ISO 27001, Cyber Essentials, etc.)",
    "Evidence document management with support for multiple file types and AI-driven classification and validation",
    "Real-time communication channels with WebSocket powered AI chat and streaming AI responses",
    "Comprehensive monitoring dashboards covering system health, database performance, AI cost tracking, and security events",
    "Multi-model AI integration with intelligent model selection and circuit breaker resilience",
    "Automated security hardening including input validation, audit logging, rate limiting, and security headers",
    "Performance optimization with connection pooling, caching, query optimization, and response streaming"
  ],
  "user_flow_summary": [
    "User registers or logs in securely via JWT authentication flow",
    "User completes the business profile wizard capturing critical compliance context",
    "User initiates a compliance assessment selecting one or multiple frameworks",
    "The AI engine assists users by providing contextual question help and generating follow-up questions",
    "User answers assessment questions, uploads supporting evidence, and saves progress",
    "AI services analyze assessment results to identify compliance gaps and generate recommendations",
    "User reviews AI-generated policies and implementation plans, with tasks tracked in the dashboard",
    "System continuously monitors user activity, AI usage costs, database health, and security events",
    "Administrators and users receive alerts and reports via integrated monitoring dashboards and notifications"
  ],
  "validation_criteria": [
    "Authentication flow must successfully register, login, refresh tokens, and logout with secure token handling",
    "Business profiles must support full CRUD operations without data integrity issues",
    "AI assessment endpoints must respect rate limits and provide accurate, consistent AI responses",
    "Frontend must render without hydration errors and handle navigation to dashboard and authenticated routes",
    "Database migrations must fix column naming issues and preserve data integrity",
    "Input validation must enforce whitelist policies preventing injection vulnerabilities",
    "Performance benchmarks require API responses under 200ms P95 and database queries under 50ms",
    "Security must meet requirements of GDPR, ISO 27001, Cyber Essentials, and SOC 2 frameworks including audit logging and encryption",
    "Automated and manual testing must achieve >95% pass rate across unit, integration, AI, security, and frontend E2E tests"
  ],
  "code_summary": {
    "tech_stack": [
      "Python 3.11+",
      "FastAPI",
      "Next.js 15",
      "TypeScript",
      "React 18",
      "Neon PostgreSQL",
      "Redis",
      "TailwindCSS",
      "shadcn/ui",
      "JWT Authentication",
      "Zustand",
      "TanStack Query"
    ],
    "features": [
      {
        "name": "User Authentication",
        "description": "JWT-based authentication with registration, login, and OAuth integration",
        "files": [
          "api/routers/auth.py",
          "frontend/app/(auth)/login/page.tsx",
          "frontend/app/(auth)/register/page.tsx"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main user dashboard with navigation and overview components",
        "files": [
          "frontend/app/(dashboard)/page.tsx",
          "frontend/components/dashboard/dashboard-nav.tsx"
        ]
      },
      {
        "name": "Business Profile Management",
        "description": "CRUD operations for business profiles with compliance tracking",
        "files": [
          "api/routers/business_profiles.py",
          "frontend/app/(dashboard)/business-profiles/page.tsx"
        ]
      },
      {
        "name": "AI Policy Generation",
        "description": "AI-powered policy generation with framework compliance",
        "files": [
          "api/routers/ai_policy_generation.py",
          "frontend/app/(dashboard)/ai-policy/page.tsx"
        ]
      }
    ]
  }
}
