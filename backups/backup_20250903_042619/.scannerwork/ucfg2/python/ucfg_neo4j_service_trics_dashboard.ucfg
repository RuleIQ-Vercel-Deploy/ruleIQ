
Lservices.neo4j_service.Neo4jGraphRAGService.get_compliance_metrics_dashboardA
5/home/omar/Documents/ruleIQ/services/neo4j_service.py¼ ¼(."2* 	
2
½ ½((Ú
×

¾ Î(
query"__id*¹

__unknown_file (œ™
–
        MATCH (m:Metric)
        OPTIONAL MATCH (m)-[:MEASURES]->(ctrl:Control)
        RETURN m.type AS metric_type,
               m.name AS metric,
               m.current_value AS current,
               m.target_value AS target,
               m.frequency AS frequency,
               m.owner AS owner,
               CASE 
                 WHEN m.type = 'KPI' AND m.current_value < m.target_value THEN 'GREEN'
                 WHEN m.type = 'KRI' AND m.current_value > m.target_value THEN 'RED'
                 ELSE 'AMBER'
               END AS status,
               COLLECT(ctrl.name) AS related_controls
        ORDER BY m.type, status DESC
        ˜•

Ï Ï(1
%1*K

__unknown_file (/-
+services.neo4j_service.Neo4jGraphRAGService*%

__unknown_file (	

query2execute_queryC
A

Ï Ï(1	
results"__id*"

__unknown_file (

%1

Ð Ð(-
%2"dictŸ
œ

Ð Ð(,
%3"__mapSet*"

__unknown_file (

%2*1

__unknown_file (
metrics_dashboard*'

__unknown_file (
	
results"

Ð Ð(-

%2B/-
+services.neo4j_service.Neo4jGraphRAGServiceH