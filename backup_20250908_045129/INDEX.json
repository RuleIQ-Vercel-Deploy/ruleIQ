{
  "repository": "ruleIQ",
  "generated": "2025-01-09",
  "statistics": {
    "total_files": 1467,
    "code_files": 1467,
    "directories": 53,
    "test_files": 150,
    "languages": {
      "python": 850,
      "typescript": 400,
      "javascript": 50,
      "json": 100,
      "yaml": 30,
      "markdown": 37
    }
  },
  "directories": {
    "api": {
      "path": "/api",
      "files": 60,
      "purpose": "FastAPI routes and API schemas",
      "key_files": ["routers/compliance.py", "routers/business_profiles.py", "schemas/compliance.py"],
      "issues": ["60+ .jwt-backup files indicating auth migration"]
    },
    "services": {
      "path": "/services",
      "files": 40,
      "purpose": "Business logic and service layer",
      "key_files": ["iq_agent.py", "neo4j_service.py", "compliance_loader.py"],
      "highlights": ["IQ Agent with 1200+ lines", "Dual database integration"]
    },
    "langgraph_agent": {
      "path": "/langgraph_agent",
      "files": 30,
      "purpose": "LangGraph workflow orchestration",
      "key_files": ["graph/master_integration_graph.py", "models/compliance_state.py"],
      "features": ["4-phase integration", "State management", "Error recovery"]
    },
    "database": {
      "path": "/database",
      "files": 20,
      "purpose": "Database models and migrations",
      "key_files": ["business_profile.py", "models/evidence.py"],
      "databases": ["PostgreSQL (Neon)", "Neo4j Graph"]
    },
    "frontend": {
      "path": "/frontend",
      "files": 70,
      "purpose": "Next.js React application",
      "key_files": ["app/page.tsx", "components/compliance-wizard.tsx"],
      "stack": ["Next.js 14", "TypeScript", "TailwindCSS"]
    },
    "tests": {
      "path": "/tests",
      "files": 150,
      "purpose": "Test suites",
      "coverage": "87%",
      "types": ["unit", "integration", "ai_accuracy"]
    }
  },
  "key_components": {
    "iq_agent": {
      "file": "services/iq_agent.py",
      "lines": 1240,
      "class": "IQComplianceAgent",
      "workflow_nodes": ["perceive", "plan", "act", "learn", "remember", "respond"],
      "features": ["Dual DB access", "Memory management", "Risk assessment", "Autonomous decisions"]
    },
    "master_graph": {
      "file": "langgraph_agent/graph/master_integration_graph.py",
      "lines": 700,
      "class": "MasterIntegrationGraph",
      "phases": ["State Management", "Error Handling", "RAG System", "Celery Migration"],
      "nodes": 9
    },
    "neo4j_service": {
      "file": "services/neo4j_service.py",
      "purpose": "Graph database interface",
      "schema": {
        "nodes": ["Regulation", "Requirement", "Control", "Domain", "Evidence"],
        "relationships": ["HAS_REQUIREMENT", "HAS_CONTROL", "APPLIES_TO", "REFERENCES"]
      }
    }
  },
  "technical_debt": {
    "high_priority": [
      "60+ .jwt-backup files need cleanup",
      "Complete Celery to LangGraph migration",
      "Standardize error handling patterns"
    ],
    "medium_priority": [
      "Test flakiness in integration tests",
      "Routing pattern inconsistencies",
      "Connection pooling for Neo4j"
    ],
    "low_priority": [
      "Documentation updates",
      "Code style standardization",
      "Unused import cleanup"
    ]
  },
  "dependencies": {
    "core": {
      "fastapi": "0.104+",
      "langgraph": "latest",
      "neo4j": "5.0+",
      "sqlalchemy": "2.0+",
      "openai": "1.0+",
      "pydantic": "2.0+"
    },
    "frontend": {
      "next": "14.0+",
      "react": "18.0+",
      "typescript": "5.0+",
      "tailwindcss": "3.0+",
      "@shadcn/ui": "latest"
    }
  },
  "architecture_patterns": {
    "backend": [
      "Repository pattern",
      "Service layer architecture",
      "Dual database strategy",
      "Event-driven workflows",
      "State machine (LangGraph)"
    ],
    "frontend": [
      "App Router (Next.js 14)",
      "Server Components",
      "Client-side state management",
      "API route handlers"
    ]
  },
  "compliance_coverage": {
    "jurisdictions": ["UK", "EU", "US"],
    "frameworks": {
      "UK": ["FCA", "PRA", "ICO", "MLR2017"],
      "EU": ["GDPR", "DORA", "MiFID II", "6AMLD"],
      "US": ["SOC2", "SOX", "CCPA", "HIPAA"]
    },
    "automation_level": "70%",
    "ai_accuracy": "85%"
  }
}