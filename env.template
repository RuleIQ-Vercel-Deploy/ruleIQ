# RuleIQ Local Development Environment Configuration
# This file contains environment variables for local development
# Copy to .env.local for development or .env for production
# DO NOT commit .env files to version control

# ===================================================================
# üîí SECURITY NOTICE üîí
# ===================================================================
# This is a TEMPLATE file with placeholder values.
#
# FOR PRODUCTION:
#   - Use Doppler for secret management: doppler run -- python main.py
#   - Never commit .env files with real credentials
#   - Rotate secrets regularly (see docs/security/SECRET_ROTATION_PLAN.md)
#
# FOR DEVELOPMENT:
#   - Copy this file to .env.local: cp env.template .env.local
#   - Replace ALL placeholder values with real credentials
#   - Ensure .env.local is in .gitignore (it is by default)
#
# VALIDATION:
#   - Run: python scripts/validate_required_env_vars.py
#   - This checks all required environment variables are set
#
# See docs/security/SECRET_HANDLING_GUIDE.md for complete guidance.
# ===================================================================

# ===================================================================
# APPLICATION SETTINGS
# ===================================================================
ENVIRONMENT=development
DEBUG=true
APP_NAME=RuleIQ Local
APP_VERSION=1.0.0-dev
APP_URL=http://localhost:3000
API_VERSION=v1

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
# Production Neon PostgreSQL database
DATABASE_URL=postgresql+asyncpg://neondb_owner:npg_s0JhnfGNy3Ze@ep-sweet-truth-a89at3wo-pooler.eastus2.azure.neon.tech/neondb?sslmode=require&channel_binding=require

# Test database (local PostgreSQL for testing)
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ruleiq_test

# Database connection settings - Optimized for production readiness
DB_POOL_SIZE=25
DB_MAX_OVERFLOW=50
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# ===================================================================
# REDIS CONFIGURATION
# ===================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Redis for caching
CACHE_REDIS_URL=redis://localhost:6379/1

# Redis for sessions
SESSION_REDIS_URL=redis://localhost:6379/2

# ===================================================================
# STACK AUTH CONFIGURATION
# ===================================================================
NEXT_PUBLIC_STACK_PROJECT_ID=5771eac7-350a-43b0-9fe2-0ca6a0b8ea17
NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY=pck_bga2tny5stehdhyay71bj4pmzstfar6gpvh8n63q63c00
STACK_SECRET_SERVER_KEY=ssk_0wkry6dwy3z0a8gwhjcxywwzcqzb1nbzp1gknfpn7bh60

# ===================================================================
# JWT & AUTHENTICATION
# ===================================================================
JWT_SECRET=nTDlGluRj39drsQ+IczE7pFw0okljEY/tKsLa+mB3d8=
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth settings (use test credentials for local development)
GOOGLE_CLIENT_ID=your-dev-google-client-id
GOOGLE_CLIENT_SECRET=your-dev-google-client-secret
MICROSOFT_CLIENT_ID=your-dev-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-dev-microsoft-client-secret
OKTA_CLIENT_ID=your-dev-okta-client-id
OKTA_CLIENT_SECRET=your-dev-okta-client-secret

# ===================================================================
# API CONFIGURATION
# ===================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2

# CORS settings for local development
CORS_ORIGINS=["http://localhost:3000","http://localhost:3001","http://localhost:3002","http://127.0.0.1:3000"]
CORS_ALLOWED_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]
ALLOWED_HOSTS=["localhost","127.0.0.1","0.0.0.0"]

# ===================================================================
# EMAIL CONFIGURATION
# ===================================================================
# Use a local SMTP server or mock service for development
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=false
SMTP_FROM_EMAIL=dev@ruleiq.local
SMTP_FROM_NAME=RuleIQ Dev

# ===================================================================
# SECURITY SETTINGS
# ===================================================================
SECRET_KEY=dev-secret-key-change-for-production
ENCRYPTION_KEY=dev-32-character-encryption-key
FERNET_KEY=PiuMdniC0TBtnLTactkEi7TZSpQq_PA_tkg5olwDQbM=

# Rate limiting (relaxed for development)
RATE_LIMIT_PER_MINUTE=1000
RATE_LIMIT_BURST=100

# ===================================================================
# MONITORING & LOGGING
# ===================================================================
LOG_LEVEL=DEBUG
LOG_FORMAT=pretty
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Application monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# ===================================================================
# AI & EXTERNAL SERVICES
# ===================================================================
# AI API Keys
OPENAI_API_KEY=your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here  
GOOGLE_AI_API_KEY=your-google-ai-api-key-here

# AWS Configuration (use localstack or test credentials)
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
AWS_REGION=us-east-1
AWS_S3_BUCKET=ruleiq-dev-uploads
AWS_S3_REGION=us-east-1

# ===================================================================
# STORAGE & FILE UPLOAD
# ===================================================================
MAX_FILE_SIZE=5242880  # 5MB for development
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,ppt,pptx,txt,csv,jpg,jpeg,png,gif
UPLOAD_DIR=./uploads
TEMP_DIR=./temp

# ===================================================================
# NEO4J CONFIGURATION (AuraDB Cloud Instance)
# ===================================================================
# ‚ö†Ô∏è  CRITICAL SECURITY REQUIREMENT ‚ö†Ô∏è
# These credentials MUST be set via environment variables or Doppler.
# NEVER use default passwords or commit real credentials to version control.
# The application will FAIL TO START if these are not properly configured.
#
# Production: Use Doppler to manage these secrets
#   doppler run -- python main.py
#
# Development: Set in .env.local (never commit this file)
#   cp env.template .env.local
#   # Edit .env.local with your actual credentials
#
# Get your Neo4j AuraDB credentials from:
#   https://console.neo4j.io/

# Neo4j connection URI (required)
NEO4J_URI=neo4j+s://12e71bc4.databases.neo4j.io

# Neo4j username (required, typically 'neo4j')
NEO4J_USERNAME=neo4j

# Neo4j password (required)
# ‚ö†Ô∏è  REPLACE 'your-auradb-password-here' WITH YOUR ACTUAL PASSWORD
# ‚ö†Ô∏è  DO NOT use 'password', 'ruleiq123', or any default value
# ‚ö†Ô∏è  Generate a strong password in Neo4j AuraDB console
NEO4J_PASSWORD=your-auradb-password-here

# Neo4j database name (default: 'neo4j')
NEO4J_DATABASE=neo4j

# ===================================================================
# BUSINESS LOGIC SETTINGS
# ===================================================================
DEFAULT_PAGE_SIZE=10
MAX_PAGE_SIZE=50
CACHE_TTL=60  # 1 minute for development
ASSESSMENT_TIMEOUT=3600  # 1 hour for development
CHAT_HISTORY_LIMIT=20

# ===================================================================
# FEATURE FLAGS
# ===================================================================
ENABLE_AI_FEATURES=true
ENABLE_OAUTH=true
ENABLE_EMAIL_NOTIFICATIONS=false  # Disable in dev
ENABLE_FILE_UPLOAD=true
ENABLE_REAL_TIME_NOTIFICATIONS=true
ENABLE_ADVANCED_ANALYTICS=false

# ===================================================================
# PAYMENT & BILLING
# ===================================================================
# Use Stripe test keys
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_test_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_test_webhook_secret

# ===================================================================
# DEVELOPMENT TOOLS
# ===================================================================
HOT_RELOAD=true
DEBUG_TOOLBAR=true
SQL_DEBUG=true
PROFILER_ENABLED=true

# ===================================================================
# HEALTH CHECKS
# ===================================================================
HEALTH_CHECK_INTERVAL=10
HEALTH_CHECK_TIMEOUT=2

# ===================================================================
# CELERY CONFIGURATION
# ===================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ===================================================================
# VALIDATION
# ===================================================================
# After configuring your environment, validate it with:
#   python scripts/validate_required_env_vars.py
#
# This will check that all required variables are set and provide
# guidance for any missing configuration.